<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Networking configuration | Rancher on HPE SimpliVity</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="">
    <link rel="preload" href="/Rancher-on-SimpliVity/MVI1/assets/css/0.styles.3380d368.css" as="style"><link rel="preload" href="/Rancher-on-SimpliVity/MVI1/assets/js/app.b8911a89.js" as="script"><link rel="preload" href="/Rancher-on-SimpliVity/MVI1/assets/js/2.568917a2.js" as="script"><link rel="preload" href="/Rancher-on-SimpliVity/MVI1/assets/js/17.efc5f861.js" as="script"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/10.950c53f1.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/11.799675f2.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/12.c75aac7e.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/13.dcf86484.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/14.696faa8e.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/15.12ad5f2d.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/16.4ef5af33.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/18.6ac0187c.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/19.e74a1048.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/20.27d9b288.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/21.f4ba2f12.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/22.75ab758b.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/23.49ef815b.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/24.52d4f76d.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/25.0e890051.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/26.f2a7e024.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/27.3fb9382b.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/28.f55b52f4.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/29.12f9f4e4.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/3.b9eb5edd.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/30.c64afc1a.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/31.a7bbe5f9.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/32.988e967d.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/33.ee55ffdb.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/34.4b8a6dec.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/35.a84a7f5e.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/36.0610bba0.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/37.e5304677.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/38.f8f0dcfa.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/39.fd4b6322.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/4.e11c904b.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/40.ec3a4be6.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/41.72963612.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/42.d1c66ec9.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/43.d7369dcb.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/44.3d0706ca.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/45.94cff320.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/46.1b3f02b5.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/47.b654f690.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/48.5a53cd2b.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/5.4f393c24.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/6.ebbb2527.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/7.e1a75b56.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/8.f92082e1.js"><link rel="prefetch" href="/Rancher-on-SimpliVity/MVI1/assets/js/9.6f9daa0c.js">
    <link rel="stylesheet" href="/Rancher-on-SimpliVity/MVI1/assets/css/0.styles.3380d368.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Rancher-on-SimpliVity/MVI1/" class="home-link router-link-active"><!----> <span class="site-name">Rancher on HPE SimpliVity</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Rancher-on-SimpliVity/MVI1/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/Rancher-on-SimpliVity/MVI1/blog/" class="nav-link">
  Blog
</a></div> <a href="https://github.com/Rancher-on-SimpliVity" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Rancher-on-SimpliVity/MVI1/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/Rancher-on-SimpliVity/MVI1/blog/" class="nav-link">
  Blog
</a></div> <a href="https://github.com/Rancher-on-SimpliVity" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/Rancher-on-SimpliVity/MVI1/summary.html" class="sidebar-link">Executive summary</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Release Notes</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution overview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Solution components</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Preparing the environment </span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Configuring the solution</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Rancher-on-SimpliVity/MVI1/config-core/ansible-config.html" class="sidebar-link">Ansible configuration</a></li><li><a href="/Rancher-on-SimpliVity/MVI1/config-core/proxy-config.html" class="sidebar-link">Proxy configuration</a></li><li><a href="/Rancher-on-SimpliVity/MVI1/config-core/edit-hosts.html" class="sidebar-link">Editing the hosts file</a></li><li><a href="/Rancher-on-SimpliVity/MVI1/config-core/vmware-config.html" class="sidebar-link">VMware configuration</a></li><li><a href="/Rancher-on-SimpliVity/MVI1/config-core/simplivity-config.html" class="sidebar-link">HPE SimpliVity configuration</a></li><li><a href="/Rancher-on-SimpliVity/MVI1/config-core/networking-config.html" class="active sidebar-link">Networking configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Rancher-on-SimpliVity/MVI1/config-core/networking-config.html#dhcp-related-settings" class="sidebar-link">DHCP related settings</a></li><li class="sidebar-sub-header"><a href="/Rancher-on-SimpliVity/MVI1/config-core/networking-config.html#ssh-configuration" class="sidebar-link">SSH configuration</a></li></ul></li><li><a href="/Rancher-on-SimpliVity/MVI1/config-core/rancher-config.html" class="sidebar-link">Admin cluster and Rancher server configuration</a></li><li><a href="/Rancher-on-SimpliVity/MVI1/config-core/rancher-user-config.html" class="sidebar-link">Rancher user cluster configuration</a></li><li><a href="/Rancher-on-SimpliVity/MVI1/config-core/lbs-config.html" class="sidebar-link">Load balancer configuration</a></li><li><a href="/Rancher-on-SimpliVity/MVI1/config-core/csi-storage-config.html" class="sidebar-link">Container Storage Interface (CSI) configuration</a></li><li><a href="/Rancher-on-SimpliVity/MVI1/config-core/group-vars.html" class="sidebar-link">Inventory group variables</a></li><li><a href="/Rancher-on-SimpliVity/MVI1/config-core/edit-vault.html" class="sidebar-link">Protecting sensitive information</a></li><li><a href="/Rancher-on-SimpliVity/MVI1/config-core/vars-sample.html" class="sidebar-link">Sample vars file</a></li><li><a href="/Rancher-on-SimpliVity/MVI1/config-core/vault-sample.html" class="sidebar-link">Sample vault file</a></li><li><a href="/Rancher-on-SimpliVity/MVI1/config-core/hosts-sample.html" class="sidebar-link">Sample hosts file</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Running the playbooks</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Post deployment tasks</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Appendices</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="networking-configuration"><a href="#networking-configuration" class="header-anchor">#</a> Networking configuration</h1> <p>The variables used for network configuration include:</p> <table><thead><tr><th style="text-align:left;">Variable</th> <th style="text-align:left;">File</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>rancher_subnet</code></td> <td style="text-align:left;">group_vars/all/vars.yml</td> <td style="text-align:left;">The scope of IP addresses which you can use on the Rancher VLAN</td></tr> <tr><td style="text-align:left;"><code>vm_portgroup</code></td> <td style="text-align:left;">group_vars/all/vars.yml</td> <td style="text-align:left;">The Rancher VLAN is a vCenter portgroup in your virtual infrastructure which connects all the virtual machines that this solution deploys</td></tr> <tr><td style="text-align:left;"><code>gateway</code></td> <td style="text-align:left;">group_vars/all/vars.yml</td> <td style="text-align:left;">Gateway for the Rancher VLAN. For example, <code>'10.15.155.1'</code></td></tr> <tr><td style="text-align:left;"><code>ntp_servers</code></td> <td style="text-align:left;">group_vars/all/vars.yml</td> <td style="text-align:left;">List of NTP servers to be used, in list format. For example, <code>['1.2.3.4','0.us.pool.net.org'...]</code></td></tr> <tr><td style="text-align:left;"><code>dns_servers</code></td> <td style="text-align:left;">group_vars/all/vars.yml</td> <td style="text-align:left;">List of DNS servers to be used, in list format. For example, <code>['10.10.173.1','10.10.173.2'...]</code><br><br>The DNS services deployed by the solution forwards unresolved requests to these DNS servers.</td></tr> <tr><td style="text-align:left;"><code>dns_suffixes</code></td> <td style="text-align:left;">group_vars/all/vars.yml</td> <td style="text-align:left;">List of DNS suffixes</td></tr></tbody></table> <h2 id="dhcp-related-settings"><a href="#dhcp-related-settings" class="header-anchor">#</a> DHCP related settings</h2> <p>The variables used to configure the DHCP service on a support VM include:</p> <table><thead><tr><th style="text-align:left;">Variable</th> <th style="text-align:left;">File</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>dhcp_subnet</code></td> <td style="text-align:left;">group_vars/all/vars.yml</td> <td style="text-align:left;">Subnet used by the playbooks to create a DHCP range on the above VLAN. For example, <code>10.15.155.0/24</code></td></tr> <tr><td style="text-align:left;"><code>dhcp_range</code></td> <td style="text-align:left;">group_vars/all/vars.yml</td> <td style="text-align:left;">DHCP range to use on the above VLAN</td></tr> <tr><td style="text-align:left;"><code>dhcp_default_lease_time</code></td> <td style="text-align:left;">group_vars/all/vars.yml</td> <td style="text-align:left;">DHCP default lease time. Default is 86400 (24 hours)</td></tr> <tr><td style="text-align:left;"><code>dhcp_max_lease_time</code></td> <td style="text-align:left;">group_vars/all/vars.yml</td> <td style="text-align:left;">DHCP maximum lease time. Default is 2592000 (30 days)</td></tr> <tr><td style="text-align:left;"><code>domain_name</code></td> <td style="text-align:left;">group_vars/all/vars.yml</td> <td style="text-align:left;">DNS domain name for cluster. For example, <code>rancher-demo.org</code></td></tr> <tr><td style="text-align:left;"><code>support_template</code></td> <td style="text-align:left;">group_vars/all/vars.yml</td> <td style="text-align:left;">Name of VM template used for the support node running DHCP. For example, <code>hpe-ubuntu-tpl</code></td></tr></tbody></table> <p>The <code>dhcp_subnet</code> variable denotes the subnet where DHCP leases will be provided. This is normally the same subnet as <code>rancher_subnet</code>.</p> <p>The <code>dhcp_range</code> variable configures the range of IP addresses that will be given out by the DHCP server. This range needs to include sufficient addresses to satisfy any nodes created using node templates, such as user clusters.</p> <p>The <code>dhcp_default_lease_time</code> and <code>dhcp_max_lease_time</code> variables specify the minimum and maximum times in seconds for DHCP leases to remain valid. In the provided sample file, the default lease time is 86400 seconds or 24 hours. The maximum lease time is 2592000 seconds, or 30 days. You should use values that will ensure your Kubernetes cluster nodes are not changing IP addresses. You could specify an indefinite lease time but that would likely result in exhausting your <code>dhcp_range</code> addresses.</p> <p>The <code>domain_name</code> variable denotes the DNS domain name used for the rancher/DHCP subnet.</p> <p>The <code>support_template</code> variable defines the name of the VM template used when deploying the support VM. By default this is set to the same value as the <code>admin_template</code> variable, which is the template used when creating the VMs in the admin cluster.</p> <h2 id="ssh-configuration"><a href="#ssh-configuration" class="header-anchor">#</a> SSH configuration</h2> <table><thead><tr><th style="text-align:left;">Variable</th> <th style="text-align:left;">File</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>ssh_key</code></td> <td style="text-align:left;">group_vars/all/vars.yml</td> <td style="text-align:left;">SSH public key for which you have the corresponding SSH private key. Currently the playbooks use the default ID of the user who is running the playbook.  So, the SSH public key to specify here is the one in the file <code>~/.ssh/id_rsa.pub</code></td></tr></tbody></table></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/HewlettPackard/Rancher-on-SimpliVity/edit/docs-dev/docs-src/config-core/networking-config.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Rancher-on-SimpliVity/MVI1/config-core/simplivity-config.html" class="prev">
        HPE SimpliVity configuration
      </a></span> <span class="next"><a href="/Rancher-on-SimpliVity/MVI1/config-core/rancher-config.html">
        Admin cluster and Rancher server configuration
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Rancher-on-SimpliVity/MVI1/assets/js/app.b8911a89.js" defer></script><script src="/Rancher-on-SimpliVity/MVI1/assets/js/2.568917a2.js" defer></script><script src="/Rancher-on-SimpliVity/MVI1/assets/js/17.efc5f861.js" defer></script>
  </body>
</html>
