(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{445:function(e,t,a){"use strict";a.r(t);var s=a(45),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"editing-the-hosts-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#editing-the-hosts-file"}},[e._v("#")]),e._v(" Editing the hosts file")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("hosts")]),e._v(" file consists of definitions for:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("Cluster")]),e._v(" nodes for the Rancher admin cluster")]),e._v(" "),a("li",[a("code",[e._v("Support")]),e._v(" node for DHCP")]),e._v(" "),a("li",[a("code",[e._v("Load balancer")]),e._v(" node(s)")]),e._v(" "),a("li",[a("code",[e._v("Template")]),e._v(" for the Ubuntu template")])]),e._v(" "),a("h2",{attrs:{id:"rancher-admin-cluster-nodes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rancher-admin-cluster-nodes"}},[e._v("#")]),e._v(" Rancher admin cluster nodes")]),e._v(" "),a("p",[e._v("It is recommended that a minimum of three nodes are provisioned for the admin cluster.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("[ranchernodes]\nhpe-rke1      ansible_host=10.15.152.21\nhpe-rke2      ansible_host=10.15.152.22\nhpe-rke3      ansible_host=10.15.152.23\n")])])]),a("h2",{attrs:{id:"support-nodes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#support-nodes"}},[e._v("#")]),e._v(" Support nodes")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("[support]\nhpe-support1  ansible_host=10.15.152.5\n")])])]),a("h2",{attrs:{id:"load-balancers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#load-balancers"}},[e._v("#")]),e._v(" Load balancers")]),e._v(" "),a("p",[e._v("The playbooks can be used to deploy load balancers using the\ninformation in the "),a("code",[e._v("loadbalancer")]),e._v(" group.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("[loadbalancer]\nhpe-lb1       ansible_host=10.15.152.11\nhpe-lb1       ansible_host=10.15.152.12\n")])])]),a("h2",{attrs:{id:"template"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#template"}},[e._v("#")]),e._v(" Template")]),e._v(" "),a("p",[e._v("The playbooks download the latest Ubuntu 18.04 cloud image OVA as the VM template used when provisioning the various\nnodes in this solution. The default Ubuntu 18.04 cloud image OVA uses VM Hardware Compatibility version 10, which\nmakes them incompatible with the CSI storage driver as it requires version 15. To work around this limitation, the\nplaybooks automatically deploy an initial VM template from the 18.04 cloud image OVA and then upgrade the hardware\ncompatibility to version 15, making the template compatible with CSI storage.")]),e._v(" "),a("p",[e._v("The template section of the Ansible inventory file lists the hostname and IP address that will be assigned to this initial\nVM template. This single upgraded VM template will be used by default for any type of node in the solution, including:\nsupport (DHCP), load balancer, RKE admin cluster and user cluster nodes. If you still wish to use a different template for\nthe user cluster and enable CSI support, be sure to set the "),a("code",[e._v("user_cluster.vm_template")]),e._v(" variable to an appropriate VM\ntemplate that is available in the vSphere instance and is using hardware compatibility version 15.")]),e._v(" "),a("h2",{attrs:{id:"general-recommendations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#general-recommendations"}},[e._v("#")]),e._v(" General recommendations")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("The recommended naming convention for cluster nodes is  "),a("code",[e._v("<<cluster_name>>")]),e._v("-"),a("code",[e._v("<<node-type>><<node-number>>")]),e._v(", with\nnode numbering typically starting at 1.")])]),e._v(" "),a("li",[a("p",[e._v("Underscores ("),a("code",[e._v("_")]),e._v(") are not valid characters in hostnames.")])]),e._v(" "),a("li",[a("p",[e._v("Make sure you change all the IP addresses in the sample files to match your environment.")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);